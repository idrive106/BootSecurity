<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Изменение пользователя</title>
</head>
<body>

<h1>Изменение пользователя</h1>
<form th:action="@{/update(id=${user.id})}" th:object="${user}" method="POST">
    <input type="hidden" th:name="id" th:value="${user.id}"/>

    <label for="username">Имя пользователя:</label>
    <input type="text" id="username" th:name="username" th:value="${user.username}" required
           placeholder="Введите имя пользователя"/><br>

    <label for="age">Age</label>
    <input type="text" id="age" name="Age" required placeholder="Enter age"><br>

    <label for="password">Пароль:</label>
    <input type="password" id="password" th:name="password" required placeholder="Введите пароль"/><br>

    <label for="email">Email:</label>
    <input type="email" id="email" th:name="email" th:value="${user.getEmail()}" required
           placeholder="Введите email"/><br>

    <div class="form-group row">
        <label class="col-4 col-form-label">Roles: </label>
        <div class="col-8">
            <label>
                <input th:each="role: ${role_all}" type="checkbox"
                       th:field="*{roles}"
                       th:text="${role.name.replaceAll('ROLE_', '')}"
                       th:value="${role.id}"
                       class="m-2"/>
            </label>
        </div>
    </div>

    <button type="submit">Сохранить изменения</button>
</form>


<form th:action="@{/delete(id=${user.id})}" method="post" onsubmit="return confirm('Удалить пользователя?');">
    <button type="submit" class="delete-button">Удалить</button>

    <a class="btn" href="/index">Назад</a>
</form>
</body>
</html>